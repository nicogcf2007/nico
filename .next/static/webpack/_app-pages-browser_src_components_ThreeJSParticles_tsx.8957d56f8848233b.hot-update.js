"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_ThreeJSParticles_tsx",{

/***/ "(app-pages-browser)/./src/components/ThreeJSParticles.tsx":
/*!*********************************************!*\
  !*** ./src/components/ThreeJSParticles.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.3.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.3.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/.pnpm/three@0.169.0/node_modules/three/build/three.module.js\");\n/* harmony import */ var _utils_deviceDetection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/deviceDetection */ \"(app-pages-browser)/./src/utils/deviceDetection.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ var _this = undefined;\n\nvar _s = $RefreshSig$();\n\n\n\n// --- Configuraci√≥n Optimizada ---\nvar getOptimizedConfig = function() {\n    var isMobile = (0,_utils_deviceDetection__WEBPACK_IMPORTED_MODULE_2__.isMobileDevice)();\n    var isLowEnd = (0,_utils_deviceDetection__WEBPACK_IMPORTED_MODULE_2__.isLowEndDevice)();\n    return {\n        particleCount: isLowEnd ? 100 : isMobile ? 200 : 300,\n        spread: isLowEnd ? 60 : isMobile ? 80 : 100,\n        velocityMultiplier: isLowEnd ? 0.2 : isMobile ? 0.3 : 0.4,\n        scrollMultiplier: isLowEnd ? 0.004 : isMobile ? 0.006 : 0.008,\n        mouseMultiplier: isLowEnd ? 0.03 : isMobile ? 0.045 : 0.09,\n        pixelRatio: Math.min(window.devicePixelRatio, isLowEnd ? 1 : isMobile ? 1.2 : 1.5),\n        maxFPS: isLowEnd ? 25 : isMobile ? 45 : 60,\n        zRange: isLowEnd ? 120 : isMobile ? 150 : 180\n    };\n};\n// --- Componente Principal ---\nvar ThreeJSParticles = function(param) {\n    var propsRef = param.propsRef;\n    _s();\n    var containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var config = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ThreeJSParticles.useMemo[config]\": function() {\n            return getOptimizedConfig();\n        }\n    }[\"ThreeJSParticles.useMemo[config]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThreeJSParticles.useEffect\": function() {\n            console.log('[ThreeJSParticles] ‚ú® Component mounted & Three.js scene initialized');\n            if (!containerRef.current) return;\n            var animationId;\n            var parentElement = containerRef.current;\n            // --- Inicializaci√≥n ---\n            var scene = new three__WEBPACK_IMPORTED_MODULE_3__.Scene();\n            var camera = new three__WEBPACK_IMPORTED_MODULE_3__.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 200);\n            camera.position.z = 4;\n            var renderer = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLRenderer({\n                alpha: true,\n                powerPreference: 'low-power',\n                antialias: false,\n                depth: false,\n                stencil: false\n            });\n            renderer.setPixelRatio(config.pixelRatio);\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.setClearColor(0x000000, 0);\n            parentElement.appendChild(renderer.domElement);\n            var positions = new Float32Array(config.particleCount * 3);\n            var sizes = new Float32Array(config.particleCount);\n            var velocities = new Float32Array(config.particleCount * 3);\n            var Z_POS_MIN_LOCAL = -config.zRange;\n            var SPREAD_XY = config.spread;\n            for(var i = 0; i < config.particleCount; i++){\n                var i3 = i * 3;\n                positions[i3] = (Math.random() - 0.5) * SPREAD_XY;\n                positions[i3 + 1] = (Math.random() - 0.5) * SPREAD_XY;\n                positions[i3 + 2] = Math.random() * Z_POS_MIN_LOCAL;\n                sizes[i] = Math.random() * 3.5 + 1.5;\n                var baseVelocity = 0.002 * config.velocityMultiplier;\n                velocities[i3] = (Math.random() - 0.5) * baseVelocity;\n                velocities[i3 + 1] = (Math.random() - 0.5) * baseVelocity;\n                velocities[i3 + 2] = (0.015 + Math.random() * 0.02) * config.velocityMultiplier;\n            }\n            var geometry = new three__WEBPACK_IMPORTED_MODULE_3__.BufferGeometry();\n            geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(positions, 3).setUsage(three__WEBPACK_IMPORTED_MODULE_3__.DynamicDrawUsage));\n            geometry.setAttribute('size', new three__WEBPACK_IMPORTED_MODULE_3__.BufferAttribute(sizes, 1));\n            var material = new three__WEBPACK_IMPORTED_MODULE_3__.ShaderMaterial({\n                vertexShader: \"\\n                attribute float size;\\n                void main() {\\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\\n                    gl_PointSize = size * (90.0 / -mvPosition.z);\\n                    gl_Position = projectionMatrix * mvPosition;\\n                }\\n            \",\n                fragmentShader: \"\\n                void main() {\\n                    float dist = distance(gl_PointCoord, vec2(0.5));\\n                    if (dist > 0.5) discard;\\n                    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0 - smoothstep(0.0, 0.5, dist));\\n                }\\n            \",\n                transparent: true,\n                blending: three__WEBPACK_IMPORTED_MODULE_3__.AdditiveBlending,\n                depthWrite: false\n            });\n            var stars = new three__WEBPACK_IMPORTED_MODULE_3__.Points(geometry, material);\n            scene.add(stars);\n            var lastFrameTime = -1;\n            var frameCount = 0;\n            var lastLogTime = performance.now();\n            // --- Bucle de Animaci√≥n ---\n            var animate = {\n                \"ThreeJSParticles.useEffect.animate\": function(time) {\n                    animationId = requestAnimationFrame(animate);\n                    if (!propsRef.current || document.hidden) return;\n                    var now = performance.now();\n                    frameCount++;\n                    if (now - lastLogTime > 5000) {\n                        var fps = frameCount / ((now - lastLogTime) / 1000);\n                        console.log(\"[ThreeJSParticles] rAF Loop FPS: \".concat(fps.toFixed(2)));\n                        frameCount = 0;\n                        lastLogTime = now;\n                    }\n                    var targetFrameTime = 1000 / config.maxFPS;\n                    var deltaTime = time - lastFrameTime;\n                    if (deltaTime < targetFrameTime) return;\n                    lastFrameTime = time;\n                    var positionAttribute = geometry.attributes.position;\n                    var timeScale = deltaTime / 16.67;\n                    for(var i = 0; i < config.particleCount; i++){\n                        var i3 = i * 3;\n                        positionAttribute.array[i3] += velocities[i3] * timeScale;\n                        positionAttribute.array[i3 + 1] += velocities[i3 + 1] * timeScale;\n                        positionAttribute.array[i3 + 2] += velocities[i3 + 2] * timeScale;\n                        if (stars.position.z + positionAttribute.array[i3 + 2] > camera.position.z + 10) {\n                            positionAttribute.array[i3 + 2] = -config.zRange - Math.random() * 0.2;\n                            positionAttribute.array[i3] = (Math.random() - 0.5) * config.spread;\n                            positionAttribute.array[i3 + 1] = (Math.random() - 0.5) * config.spread;\n                        }\n                    }\n                    positionAttribute.needsUpdate = true;\n                    var _propsRef_current = propsRef.current, mousePosition = _propsRef_current.mousePosition, scrollY = _propsRef_current.scrollY;\n                    stars.position.x = mousePosition.x * config.mouseMultiplier;\n                    stars.position.y = -mousePosition.y * config.mouseMultiplier;\n                    stars.position.z = scrollY * config.scrollMultiplier;\n                    renderer.render(scene, camera);\n                }\n            }[\"ThreeJSParticles.useEffect.animate\"];\n            // --- Manejadores de Eventos ---\n            var handleResize = {\n                \"ThreeJSParticles.useEffect.handleResize\": function() {\n                    camera.aspect = window.innerWidth / window.innerHeight;\n                    camera.updateProjectionMatrix();\n                    renderer.setSize(window.innerWidth, window.innerHeight);\n                }\n            }[\"ThreeJSParticles.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize, {\n                passive: true\n            });\n            animate(0);\n            // --- Limpieza ---\n            return ({\n                \"ThreeJSParticles.useEffect\": function() {\n                    console.log('[ThreeJSParticles] üßπ Component unmounted & Three.js resources cleaned up');\n                    cancelAnimationFrame(animationId);\n                    window.removeEventListener('resize', handleResize);\n                    // Vaciar y destruir la escena de Three.js\n                    scene.traverse({\n                        \"ThreeJSParticles.useEffect\": function(object) {\n                            if (object instanceof three__WEBPACK_IMPORTED_MODULE_3__.Mesh || object instanceof three__WEBPACK_IMPORTED_MODULE_3__.Points) {\n                                if (object.geometry) object.geometry.dispose();\n                                if (object.material) {\n                                    if (Array.isArray(object.material)) {\n                                        object.material.forEach({\n                                            \"ThreeJSParticles.useEffect\": function(mat) {\n                                                return mat.dispose();\n                                            }\n                                        }[\"ThreeJSParticles.useEffect\"]);\n                                    } else {\n                                        object.material.dispose();\n                                    }\n                                }\n                            }\n                        }\n                    }[\"ThreeJSParticles.useEffect\"]);\n                    scene.clear();\n                    renderer.dispose();\n                    renderer.forceContextLoss();\n                    if (parentElement.contains(renderer.domElement)) {\n                        parentElement.removeChild(renderer.domElement);\n                    }\n                }\n            })[\"ThreeJSParticles.useEffect\"];\n        }\n    }[\"ThreeJSParticles.useEffect\"], [\n        config,\n        propsRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%'\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\CNC\\\\OneDrive - Centro Nacional de Consultoria\\\\Escritorio\\\\Projects\\\\NRDev\\\\src\\\\components\\\\ThreeJSParticles.tsx\",\n        lineNumber: 197,\n        columnNumber: 12\n    }, _this);\n};\n_s(ThreeJSParticles, \"4k54ot9pQl3lNzQFsYC9Oz/FTso=\");\n_c = ThreeJSParticles;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThreeJSParticles);\nvar _c;\n$RefreshReg$(_c, \"ThreeJSParticles\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1RocmVlSlNQYXJ0aWNsZXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVtRDtBQUNwQjtBQUMyQztBQUUxRSxtQ0FBbUM7QUFDbkMsSUFBTU0scUJBQXFCO0lBQ3ZCLElBQU1DLFdBQVdILHNFQUFjQTtJQUMvQixJQUFNSSxXQUFXSCxzRUFBY0E7SUFDL0IsT0FBTztRQUNISSxlQUFlRCxXQUFXLE1BQU1ELFdBQVcsTUFBTTtRQUNqREcsUUFBUUYsV0FBVyxLQUFLRCxXQUFXLEtBQUs7UUFDeENJLG9CQUFvQkgsV0FBVyxNQUFNRCxXQUFXLE1BQU07UUFDdERLLGtCQUFrQkosV0FBVyxRQUFRRCxXQUFXLFFBQVE7UUFDeERNLGlCQUFpQkwsV0FBVyxPQUFPRCxXQUFXLFFBQVE7UUFDdERPLFlBQVlDLEtBQUtDLEdBQUcsQ0FBQ0MsT0FBT0MsZ0JBQWdCLEVBQUVWLFdBQVcsSUFBSUQsV0FBVyxNQUFNO1FBQzlFWSxRQUFRWCxXQUFXLEtBQUtELFdBQVcsS0FBSztRQUN4Q2EsUUFBUVosV0FBVyxNQUFNRCxXQUFXLE1BQU07SUFDOUM7QUFDSjtBQVlBLCtCQUErQjtBQUMvQixJQUFNYyxtQkFBb0Q7UUFBR0MsaUJBQUFBOztJQUN6RCxJQUFNQyxlQUFldEIsNkNBQU1BLENBQWlCO0lBQzVDLElBQU11QixTQUFTdEIsOENBQU9BOzRDQUFDO21CQUFNSTs7MkNBQXNCLEVBQUU7SUFFckROLGdEQUFTQTtzQ0FBQztZQUNOeUIsUUFBUUMsR0FBRyxDQUFDO1lBQ1osSUFBSSxDQUFDSCxhQUFhSSxPQUFPLEVBQUU7WUFFM0IsSUFBSUM7WUFDSixJQUFNQyxnQkFBZ0JOLGFBQWFJLE9BQU87WUFFMUMseUJBQXlCO1lBQ3pCLElBQU1HLFFBQVEsSUFBSTNCLHdDQUFXO1lBQzdCLElBQU02QixTQUFTLElBQUk3QixvREFBdUIsQ0FBQyxJQUFJYyxPQUFPaUIsVUFBVSxHQUFHakIsT0FBT2tCLFdB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LENBQUNKLE9BQU8zQyxRQUFRLEdBQUc7d0NBQ2hDMkMsT0FBTzNDLFFBQVEsQ0FBQ2dELE9BQU87MEVBQUNDLFNBQUFBO3VEQUFPQSxJQUFJSixPQUFPOzs7b0NBQzlDLE9BQU87d0NBQ0hGLE9BQU8zQyxRQUFRLENBQUM2QyxPQUFPO29DQUMzQjtnQ0FDSjs0QkFDSjt3QkFDSjs7b0JBQ0FqRixNQUFNc0YsS0FBSztvQkFFWDlFLFNBQVN5RSxPQUFPO29CQUNoQnpFLFNBQVMrRSxnQkFBZ0I7b0JBRXpCLElBQUl4RixjQUFjeUYsUUFBUSxDQUFDaEYsU0FBU1csVUFBVSxHQUFHO3dCQUM3Q3BCLGNBQWMwRixXQUFXLENBQUNqRixTQUFTVyxVQUFVO29CQUNqRDtnQkFDSjs7UUFDSjtxQ0FBRztRQUFDekI7UUFBUUY7S0FBUztJQUVyQixxQkFBTyw4REFBQ2tHO1FBQUlDLEtBQUtsRztRQUFjbUcsT0FBTztZQUFFdEYsVUFBVTtZQUFZdUYsS0FBSztZQUFHQyxNQUFNO1lBQUdDLE9BQU87WUFBUUMsUUFBUTtRQUFPOzs7Ozs7QUFDakg7R0FwS016RztLQUFBQTtBQXNLTixpRUFBZUEsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXENOQ1xcT25lRHJpdmUgLSBDZW50cm8gTmFjaW9uYWwgZGUgQ29uc3VsdG9yaWFcXEVzY3JpdG9yaW9cXFByb2plY3RzXFxOUkRldlxcc3JjXFxjb21wb25lbnRzXFxUaHJlZUpTUGFydGljbGVzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgaXNNb2JpbGVEZXZpY2UsIGlzTG93RW5kRGV2aWNlIH0gZnJvbSAnLi4vdXRpbHMvZGV2aWNlRGV0ZWN0aW9uJztcblxuLy8gLS0tIENvbmZpZ3VyYWNpw7NuIE9wdGltaXphZGEgLS0tXG5jb25zdCBnZXRPcHRpbWl6ZWRDb25maWcgPSAoKSA9PiB7XG4gICAgY29uc3QgaXNNb2JpbGUgPSBpc01vYmlsZURldmljZSgpO1xuICAgIGNvbnN0IGlzTG93RW5kID0gaXNMb3dFbmREZXZpY2UoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXJ0aWNsZUNvdW50OiBpc0xvd0VuZCA/IDEwMCA6IGlzTW9iaWxlID8gMjAwIDogMzAwLFxuICAgICAgICBzcHJlYWQ6IGlzTG93RW5kID8gNjAgOiBpc01vYmlsZSA/IDgwIDogMTAwLFxuICAgICAgICB2ZWxvY2l0eU11bHRpcGxpZXI6IGlzTG93RW5kID8gMC4yIDogaXNNb2JpbGUgPyAwLjMgOiAwLjQsXG4gICAgICAgIHNjcm9sbE11bHRpcGxpZXI6IGlzTG93RW5kID8gMC4wMDQgOiBpc01vYmlsZSA/IDAuMDA2IDogMC4wMDgsXG4gICAgICAgIG1vdXNlTXVsdGlwbGllcjogaXNMb3dFbmQgPyAwLjAzIDogaXNNb2JpbGUgPyAwLjA0NSA6IDAuMDksXG4gICAgICAgIHBpeGVsUmF0aW86IE1hdGgubWluKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCBpc0xvd0VuZCA/IDEgOiBpc01vYmlsZSA/IDEuMiA6IDEuNSksXG4gICAgICAgIG1heEZQUzogaXNMb3dFbmQgPyAyNSA6IGlzTW9iaWxlID8gNDUgOiA2MCxcbiAgICAgICAgelJhbmdlOiBpc0xvd0VuZCA/IDEyMCA6IGlzTW9iaWxlID8gMTUwIDogMTgwLFxuICAgIH07XG59O1xuXG4vLyAtLS0gVHlwZXMgLS0tXG5pbnRlcmZhY2UgVGhyZWVKU1Byb3BzIHtcbiAgICBtb3VzZVBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG4gICAgc2Nyb2xsWTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgVGhyZWVKU1BhcnRpY2xlc1Byb3BzIHtcbiAgICBwcm9wc1JlZjogUmVhY3QuUmVmT2JqZWN0PFRocmVlSlNQcm9wcz47XG59XG5cbi8vIC0tLSBDb21wb25lbnRlIFByaW5jaXBhbCAtLS1cbmNvbnN0IFRocmVlSlNQYXJ0aWNsZXM6IFJlYWN0LkZDPFRocmVlSlNQYXJ0aWNsZXNQcm9wcz4gPSAoeyBwcm9wc1JlZiB9KSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgICBjb25zdCBjb25maWcgPSB1c2VNZW1vKCgpID0+IGdldE9wdGltaXplZENvbmZpZygpLCBbXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW1RocmVlSlNQYXJ0aWNsZXNdIOKcqCBDb21wb25lbnQgbW91bnRlZCAmIFRocmVlLmpzIHNjZW5lIGluaXRpYWxpemVkJyk7XG4gICAgICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgICBsZXQgYW5pbWF0aW9uSWQ6IG51bWJlcjtcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgICBcbiAgICAgICAgLy8gLS0tIEluaWNpYWxpemFjacOzbiAtLS1cbiAgICAgICAgY29uc3Qgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAyMDApO1xuICAgICAgICBjYW1lcmEucG9zaXRpb24ueiA9IDQ7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICAgICAgICBhbHBoYTogdHJ1ZSwgcG93ZXJQcmVmZXJlbmNlOiAnbG93LXBvd2VyJywgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoOiBmYWxzZSwgc3RlbmNpbDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKGNvbmZpZy5waXhlbFJhdGlvKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCwgMCk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShjb25maWcucGFydGljbGVDb3VudCAqIDMpO1xuICAgICAgICBjb25zdCBzaXplcyA9IG5ldyBGbG9hdDMyQXJyYXkoY29uZmlnLnBhcnRpY2xlQ291bnQpO1xuICAgICAgICBjb25zdCB2ZWxvY2l0aWVzID0gbmV3IEZsb2F0MzJBcnJheShjb25maWcucGFydGljbGVDb3VudCAqIDMpO1xuXG4gICAgICAgIGNvbnN0IFpfUE9TX01JTl9MT0NBTCA9IC1jb25maWcuelJhbmdlO1xuICAgICAgICBjb25zdCBTUFJFQURfWFkgPSBjb25maWcuc3ByZWFkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmlnLnBhcnRpY2xlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaTMgPSBpICogMztcbiAgICAgICAgICAgIHBvc2l0aW9uc1tpM10gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBTUFJFQURfWFk7XG4gICAgICAgICAgICBwb3NpdGlvbnNbaTMgKyAxXSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIFNQUkVBRF9YWTtcbiAgICAgICAgICAgIHBvc2l0aW9uc1tpMyArIDJdID0gTWF0aC5yYW5kb20oKSAqIFpfUE9TX01JTl9MT0NBTDtcbiAgICAgICAgICAgIHNpemVzW2ldID0gTWF0aC5yYW5kb20oKSAqIDMuNSArIDEuNTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYmFzZVZlbG9jaXR5ID0gMC4wMDIgKiBjb25maWcudmVsb2NpdHlNdWx0aXBsaWVyO1xuICAgICAgICAgICAgdmVsb2NpdGllc1tpM10gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBiYXNlVmVsb2NpdHk7XG4gICAgICAgICAgICB2ZWxvY2l0aWVzW2kzICsgMV0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBiYXNlVmVsb2NpdHk7XG4gICAgICAgICAgICB2ZWxvY2l0aWVzW2kzICsgMl0gPSAoMC4wMTUgKyBNYXRoLnJhbmRvbSgpICogMC4wMikgKiBjb25maWcudmVsb2NpdHlNdWx0aXBsaWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25zLCAzKS5zZXRVc2FnZShUSFJFRS5EeW5hbWljRHJhd1VzYWdlKSk7XG4gICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgnc2l6ZScsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoc2l6ZXMsIDEpKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcjogYFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBzaXplO1xuICAgICAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgZ2xfUG9pbnRTaXplID0gc2l6ZSAqICg5MC4wIC8gLW12UG9zaXRpb24ueik7XG4gICAgICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiBgXG4gICAgICAgICAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgICAgICAgICBmbG9hdCBkaXN0ID0gZGlzdGFuY2UoZ2xfUG9pbnRDb29yZCwgdmVjMigwLjUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPiAwLjUpIGRpc2NhcmQ7XG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgMS4wIC0gc21vb3Roc3RlcCgwLjAsIDAuNSwgZGlzdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgICAgICAgIGJsZW5kaW5nOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxuICAgICAgICAgICAgZGVwdGhXcml0ZTogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN0YXJzID0gbmV3IFRIUkVFLlBvaW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICBzY2VuZS5hZGQoc3RhcnMpO1xuXG4gICAgICAgIGxldCBsYXN0RnJhbWVUaW1lID0gLTE7XG4gICAgICAgIGxldCBmcmFtZUNvdW50ID0gMDtcbiAgICAgICAgbGV0IGxhc3RMb2dUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgICAgLy8gLS0tIEJ1Y2xlIGRlIEFuaW1hY2nDs24gLS0tXG4gICAgICAgIGNvbnN0IGFuaW1hdGUgPSAodGltZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBhbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblxuICAgICAgICAgICAgaWYgKCFwcm9wc1JlZi5jdXJyZW50IHx8IGRvY3VtZW50LmhpZGRlbikgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGZyYW1lQ291bnQrKztcbiAgICAgICAgICAgIGlmIChub3cgLSBsYXN0TG9nVGltZSA+IDUwMDApIHsgLy8gTG9nIGV2ZXJ5IDUgc2Vjb25kc1xuICAgICAgICAgICAgICAgIGNvbnN0IGZwcyA9IGZyYW1lQ291bnQgLyAoKG5vdyAtIGxhc3RMb2dUaW1lKSAvIDEwMDApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbVGhyZWVKU1BhcnRpY2xlc10gckFGIExvb3AgRlBTOiAke2Zwcy50b0ZpeGVkKDIpfWApO1xuICAgICAgICAgICAgICAgIGZyYW1lQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGxhc3RMb2dUaW1lID0gbm93O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVRpbWUgPSAxMDAwIC8gY29uZmlnLm1heEZQUztcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhVGltZSA9IHRpbWUgLSBsYXN0RnJhbWVUaW1lO1xuXG4gICAgICAgICAgICBpZiAoZGVsdGFUaW1lIDwgdGFyZ2V0RnJhbWVUaW1lKSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxhc3RGcmFtZVRpbWUgPSB0aW1lO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25BdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uIGFzIFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTtcblxuICAgICAgICAgICAgY29uc3QgdGltZVNjYWxlID0gZGVsdGFUaW1lIC8gMTYuNjc7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZy5wYXJ0aWNsZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uQXR0cmlidXRlLmFycmF5W2kzXSArPSB2ZWxvY2l0aWVzW2kzXSAqIHRpbWVTY2FsZTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZS5hcnJheVtpMyArIDFdICs9IHZlbG9jaXRpZXNbaTMgKyAxXSAqIHRpbWVTY2FsZTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZS5hcnJheVtpMyArIDJdICs9IHZlbG9jaXRpZXNbaTMgKyAyXSAqIHRpbWVTY2FsZTtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFycy5wb3NpdGlvbi56ICsgcG9zaXRpb25BdHRyaWJ1dGUuYXJyYXlbaTMgKyAyXSA+IGNhbWVyYS5wb3NpdGlvbi56ICsgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUuYXJyYXlbaTMgKyAyXSA9IC1jb25maWcuelJhbmdlIC0gTWF0aC5yYW5kb20oKSAqIDAuMjtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUuYXJyYXlbaTNdID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogY29uZmlnLnNwcmVhZDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUuYXJyYXlbaTMgKyAxXSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGNvbmZpZy5zcHJlYWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB7IG1vdXNlUG9zaXRpb24sIHNjcm9sbFkgfSA9IHByb3BzUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBzdGFycy5wb3NpdGlvbi54ID0gbW91c2VQb3NpdGlvbi54ICogY29uZmlnLm1vdXNlTXVsdGlwbGllcjtcbiAgICAgICAgICAgIHN0YXJzLnBvc2l0aW9uLnkgPSAtbW91c2VQb3NpdGlvbi55ICogY29uZmlnLm1vdXNlTXVsdGlwbGllcjtcbiAgICAgICAgICAgIHN0YXJzLnBvc2l0aW9uLnogPSBzY3JvbGxZICogY29uZmlnLnNjcm9sbE11bHRpcGxpZXI7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAtLS0gTWFuZWphZG9yZXMgZGUgRXZlbnRvcyAtLS1cbiAgICAgICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgY2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgXG4gICAgICAgIGFuaW1hdGUoMCk7XG5cbiAgICAgICAgLy8gLS0tIExpbXBpZXphIC0tLVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tUaHJlZUpTUGFydGljbGVzXSDwn6e5IENvbXBvbmVudCB1bm1vdW50ZWQgJiBUaHJlZS5qcyByZXNvdXJjZXMgY2xlYW5lZCB1cCcpO1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uSWQpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICAgICAgICAgIC8vIFZhY2lhciB5IGRlc3RydWlyIGxhIGVzY2VuYSBkZSBUaHJlZS5qc1xuICAgICAgICAgICAgc2NlbmUudHJhdmVyc2Uob2JqZWN0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuTWVzaCB8fCBvYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5nZW9tZXRyeSkgb2JqZWN0Lmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0Lm1hdGVyaWFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXRlcmlhbC5mb3JFYWNoKG1hdCA9PiBtYXQuZGlzcG9zZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NlbmUuY2xlYXIoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZm9yY2VDb250ZXh0TG9zcygpO1xuXG4gICAgICAgICAgICBpZiAocGFyZW50RWxlbWVudC5jb250YWlucyhyZW5kZXJlci5kb21FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSwgW2NvbmZpZywgcHJvcHNSZWZdKTtcblxuICAgIHJldHVybiA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9fSAvPjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRocmVlSlNQYXJ0aWNsZXM7ICJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiVEhSRUUiLCJpc01vYmlsZURldmljZSIsImlzTG93RW5kRGV2aWNlIiwiZ2V0T3B0aW1pemVkQ29uZmlnIiwiaXNNb2JpbGUiLCJpc0xvd0VuZCIsInBhcnRpY2xlQ291bnQiLCJzcHJlYWQiLCJ2ZWxvY2l0eU11bHRpcGxpZXIiLCJzY3JvbGxNdWx0aXBsaWVyIiwibW91c2VNdWx0aXBsaWVyIiwicGl4ZWxSYXRpbyIsIk1hdGgiLCJtaW4iLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwibWF4RlBTIiwielJhbmdlIiwiVGhyZWVKU1BhcnRpY2xlcyIsInByb3BzUmVmIiwiY29udGFpbmVyUmVmIiwiY29uZmlnIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnQiLCJhbmltYXRpb25JZCIsInBhcmVudEVsZW1lbnQiLCJzY2VuZSIsIlNjZW5lIiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3NpdGlvbiIsInoiLCJyZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJhbHBoYSIsInBvd2VyUHJlZmVyZW5jZSIsImFudGlhbGlhcyIsImRlcHRoIiwic3RlbmNpbCIsInNldFBpeGVsUmF0aW8iLCJzZXRTaXplIiwic2V0Q2xlYXJDb2xvciIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsInBvc2l0aW9ucyIsIkZsb2F0MzJBcnJheSIsInNpemVzIiwidmVsb2NpdGllcyIsIlpfUE9TX01JTl9MT0NBTCIsIlNQUkVBRF9YWSIsImkiLCJpMyIsInJhbmRvbSIsImJhc2VWZWxvY2l0eSIsImdlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJzZXRBdHRyaWJ1dGUiLCJCdWZmZXJBdHRyaWJ1dGUiLCJzZXRVc2FnZSIsIkR5bmFtaWNEcmF3VXNhZ2UiLCJtYXRlcmlhbCIsIlNoYWRlck1hdGVyaWFsIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJ0cmFuc3BhcmVudCIsImJsZW5kaW5nIiwiQWRkaXRpdmVCbGVuZGluZyIsImRlcHRoV3JpdGUiLCJzdGFycyIsIlBvaW50cyIsImFkZCIsImxhc3RGcmFtZVRpbWUiLCJmcmFtZUNvdW50IiwibGFzdExvZ1RpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImFuaW1hdGUiLCJ0aW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJmcHMiLCJ0b0ZpeGVkIiwidGFyZ2V0RnJhbWVUaW1lIiwiZGVsdGFUaW1lIiwicG9zaXRpb25BdHRyaWJ1dGUiLCJhdHRyaWJ1dGVzIiwidGltZVNjYWxlIiwiYXJyYXkiLCJuZWVkc1VwZGF0ZSIsIm1vdXNlUG9zaXRpb24iLCJzY3JvbGxZIiwieCIsInkiLCJyZW5kZXIiLCJoYW5kbGVSZXNpemUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0cmF2ZXJzZSIsIm9iamVjdCIsIk1lc2giLCJkaXNwb3NlIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsIm1hdCIsImNsZWFyIiwiZm9yY2VDb250ZXh0TG9zcyIsImNvbnRhaW5zIiwicmVtb3ZlQ2hpbGQiLCJkaXYiLCJyZWYiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/ThreeJSParticles.tsx\n"));

/***/ })

});